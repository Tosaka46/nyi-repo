<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Quantum Playzone - Music</title>

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.0/css/all.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

  <link rel="shortcut icon" href="images/favicon.ico" type="image/x-icon">

  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      scroll-behavior: smooth;
    }

    body {
      font-family: 'Segoe UI', sans-serif;
      background: linear-gradient(135deg, #0f0c29, #302b63, #24243e);
      color: #fff;
    }

    nav {
      background-color: #000000a0;
      display: flex;
      justify-content: center;
      gap: 20px;
      padding: 15px 0;
      box-shadow: 0 2px 10px rgba(0,0,0,0.5);
      position: sticky;
      top: 0;
      z-index: 1000;
    }

    nav a {
      color: #00f7ff;
      text-decoration: none;
      font-weight: bold;
      padding: 8px 15px;
      border-radius: 5px;
      transition: background 0.3s;
    }

    nav a:hover {
      background-color: #00f7ff;
      color: #000;
    }

    header {
      text-align: center;
      padding: 40px 20px;
      background-color: rgba(0,0,0,0.6);
      font-size: 2em;
      color: #00f7ff;
    }

    section {
      padding: 40px 20px;
      max-width: 800px;
      margin: auto;
      text-align: center;
    }

    .card {
      background-color: rgba(255, 255, 255, 0.05);
      border-radius: 10px;
      padding: 30px;
      margin: 20px auto;
      box-shadow: 0 0 10px rgba(0,0,0,0.5);
    }

    .player .details {
      margin-bottom: 20px;
    }

    .now-playing {
      font-size: 0.9rem;
      color: #ccc;
    }

    .track-art {
      width: 180px;
      height: 180px;
      margin: 20px auto;
      background-color: #444;
      border-radius: 10px;
      background-size: cover;
      background-position: center;
    }

    .track-name {
      font-size: 1.4rem;
      margin-top: 10px;
    }

    .track-artist {
      font-size: 1rem;
      color: #aaa;
    }

    .slider_container {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 10px;
      margin: 20px 0;
    }

    input[type="range"] {
      width: 60%;
    }

    .buttons {
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 20px;
      margin-top: 20px;
    }

    .buttons i {
      cursor: pointer;
      color: #00f7ff;
      transition: transform 0.2s;
    }

    .buttons i:hover {
      transform: scale(1.2);
      color: #00c1cc;
    }

    #wave {
      margin-top: 30px;
    }

    .stroke {
      display: inline-block;
      width: 4px;
      height: 20px;
      margin: 0 2px;
      background: #00f7ff;
      animation: pulse 1s infinite ease-in-out;
    }

    .stroke:nth-child(2) { animation-delay: 0.1s; }
    .stroke:nth-child(3) { animation-delay: 0.2s; }
    .stroke:nth-child(4) { animation-delay: 0.3s; }
    .stroke:nth-child(5) { animation-delay: 0.4s; }
    .stroke:nth-child(6) { animation-delay: 0.5s; }
    .stroke:nth-child(7) { animation-delay: 0.6s; }

    @keyframes pulse {
      0%, 100% { height: 20px; }
      50% { height: 40px; }
    }

    /* Playlist Styles */
    .playlist {
      margin-top: 30px;
    }

    #toggle-playlist-btn {
      background-color: #00f7ff; 
      color: #000; 
      border: none; 
      padding: 10px 20px; 
      font-weight: bold; 
      border-radius: 6px; 
      cursor: pointer;
      width: 100%;
      max-width: 300px;
      margin: 0 auto 15px auto;
      display: block;
      transition: background-color 0.3s;
    }

    #toggle-playlist-btn:hover {
      background-color: #00c1cc;
    }

    #track-list {
      display: none;
      max-height: 200px;
      overflow-y: auto;
      padding-left: 0;
      color: #ddd;
      list-style: none;
      max-width: 300px;
      margin: 0 auto;
      border: 1px solid #00f7ff;
      border-radius: 6px;
      background-color: rgba(0, 0, 0, 0.6);
    }

    #track-list li {
      padding: 10px 15px;
      cursor: pointer;
      border-bottom: 1px solid #00f7ff33;
      transition: background-color 0.2s;
    }

    #track-list li:last-child {
      border-bottom: none;
    }

    #track-list li:hover {
      background-color: #00f7ff22;
    }

    #track-list li.active {
      background-color: #00f7ff88;
      color: #000;
      font-weight: bold;
    }
  </style>
<script defer>
  let trackIndex = 0;
  let isPlaying = false;
  let currTrack = new Audio();

  const tracks = [
	{
      name: "Faded",
      artist: "Alan Walker",
      image: "images/faded.png",
      path: "music/Faded.mp3"
    },
    {
      name: "Rather Be",
      artist: "Alan Walker",
      image: "images/ratherbe.jpg",
      path: "music/Rather Be.mp3"
    },
    {
      name: "Falling Down",
      artist: "Wid Cards",
      image: "images/fallingdown.jpg",
      path: "music/fallingdown.mp3"
    },
    {
      name: "Stay",
      artist: "The Kid LAROI, Justin Bieber",
      image: "images/stay.png",
      path: "music/stay.mp3"
    },
	{
      name: "Be With You",
      artist: "Akon",
      image: "bewith.jpg",
      path: "Akon_Be_With_You_Lyrics_and_no_one_knows_why_i_m_into_you_.m4a"
    },
	{
      name: "Wake me up",
      artist: "Avicii",
      image: "muzio_1758177696836.jpg",
      path: "Avicii - Wake Me Up (Lyrics).mp3"
    },
	{
      name: "Be Alright",
      artist: "Dean Lewis",
      image: "muzio_1758177988296.jpg",
      path: "Dean Lewis ~ Be Alright ( mmsub ).m4a"
    },
	    {
      name: "8 Letters",
      artist: "Why don't we",
      image: "8lett.jpg",
      path: "8_Letters_Why_Don't_We_Tiktok_Speed_Up,_Reverb,_Lyrics256k.mp3"
    }
  ];

  window.addEventListener('DOMContentLoaded', () => {
    loadTrack(trackIndex);
    populateTrackList();
    setVolume(); 

    const toggleBtn = document.getElementById('toggle-playlist-btn');
    const trackList = document.getElementById('track-list');

    toggleBtn.addEventListener('click', () => {
      if (trackList.style.display === 'none' || trackList.style.display === '') {
        trackList.style.display = 'block';
        toggleBtn.textContent = 'Choose a Track ▲';
      } else {
        trackList.style.display = 'none';
        toggleBtn.textContent = 'Choose a Track ▼';
      }
    });

    currTrack.addEventListener('timeupdate', updateSeekTime);
    currTrack.addEventListener('ended', nextTrack);
  });

  function loadTrack(index) {
    currTrack.src = tracks[index].path;
    currTrack.load();

    document.querySelector(".track-name").textContent = tracks[index].name;
    document.querySelector(".track-artist").textContent = tracks[index].artist;
    document.querySelector(".track-art").style.backgroundImage = `url('${tracks[index].image}')`;
    document.querySelector(".now-playing").textContent = `PLAYING ${index + 1} OF ${tracks.length}`;

    updateActiveTrack();
  }

  function playpauseTrack() {
    if (!isPlaying) {
      currTrack.play();
      isPlaying = true;
      document.querySelector(".playpause-track i").classList.remove("fa-play-circle");
      document.querySelector(".playpause-track i").classList.add("fa-pause-circle");
    } else {
      currTrack.pause();
      isPlaying = false;
      document.querySelector(".playpause-track i").classList.remove("fa-pause-circle");
      document.querySelector(".playpause-track i").classList.add("fa-play-circle");
    }
  }

  function nextTrack() {
    trackIndex = (trackIndex + 1) % tracks.length;
    loadTrack(trackIndex);
    if (isPlaying) currTrack.play();
  }

  function prevTrack() {
    trackIndex = (trackIndex - 1 + tracks.length) % tracks.length;
    loadTrack(trackIndex);
    if (isPlaying) currTrack.play();
  }

  function repeatTrack() {
    currTrack.currentTime = 0;
    currTrack.play();
  }

  function randomTrack() {
    trackIndex = Math.floor(Math.random() * tracks.length);
    loadTrack(trackIndex);
    if (isPlaying) currTrack.play();
  }

  function setVolume() {
    const volumeSlider = document.querySelector(".volume_slider");
    currTrack.volume = volumeSlider.value / 100;
  }

  function seekTo() {
    const seekSlider = document.querySelector(".seek_slider");
    const seekTo = currTrack.duration * (seekSlider.value / 100);
    currTrack.currentTime = seekTo;
  }

  function updateSeekTime() {
    const seekSlider = document.querySelector(".seek_slider");
    const currentTimeEl = document.querySelector(".current-time");
    const totalDurationEl = document.querySelector(".total-duration");

    if (!isNaN(currTrack.duration)) {
      const progressPercent = (currTrack.currentTime / currTrack.duration) * 100;
      seekSlider.value = progressPercent;

      currentTimeEl.textContent = formatTime(currTrack.currentTime);
      totalDurationEl.textContent = formatTime(currTrack.duration);
    }
  }

  function formatTime(seconds) {
    const mins = Math.floor(seconds / 60);
    const secs = Math.floor(seconds % 60);
    return `${mins < 10 ? '0' + mins : mins}:${secs < 10 ? '0' + secs : secs}`;
  }

  function populateTrackList() {
    const trackListEl = document.getElementById('track-list');
    trackListEl.innerHTML = '';

    tracks.forEach((track, idx) => {
      const li = document.createElement('li');
      li.textContent = `${track.name} — ${track.artist}`;
      li.addEventListener('click', () => {
        trackIndex = idx;
        loadTrack(trackIndex);
        currTrack.play();
        isPlaying = true;
        document.querySelector(".playpause-track i").classList.remove("fa-play-circle");
        document.querySelector(".playpause-track i").classList.add("fa-pause-circle");
        updateActiveTrack();
      });
      trackListEl.appendChild(li);
    });

    updateActiveTrack();
  }

  function updateActiveTrack() {
    const trackListEl = document.getElementById('track-list');
    Array.from(trackListEl.children).forEach((li, idx) => {
      li.classList.toggle('active', idx === trackIndex);
    });
  }
</script>

</head>

<body>

  <nav>
    <a href="index.html">Home</a>
    <a href="music1.html">Music</a>
    <a href="game.html">Game</a>
    <a href="about.html">About</a>
  </nav>

  <header>
    🎵 Music Zone
  </header>

  <section class="card">
    <div class="player">
      <div class="wrapper">
        <div class="details">
          <div class="now-playing">PLAYING x OF y</div>
          <div class="track-art"></div>
          <div class="track-name">Track Name</div>
          <div class="track-artist">Track Artist</div>
        </div>

        <div class="slider_container">
          <div class="current-time">00:00</div>
          <input type="range" min="1" max="100" value="0" class="seek_slider" onchange="seekTo()">
          <div class="total-duration">00:00</div>
        </div>

        <div class="slider_container">
          <i class="fa fa-volume-down"></i>
          <input type="range" min="1" max="100" value="99" class="volume_slider" onchange="setVolume()">
          <i class="fa fa-volume-up"></i>
        </div>

        <div class="buttons">
          <div class="random-track" onclick="randomTrack()">
            <i class="fas fa-random fa-2x" title="Random"></i>
          </div>
          <div class="prev-track" onclick="prevTrack()">
            <i class="fa fa-step-backward fa-2x"></i>
          </div>
          <div class="playpause-track" onclick="playpauseTrack()">
            <i class="fa fa-play-circle fa-5x"></i>
          </div>
          <div class="next-track" onclick="nextTrack()">
            <i class="fa fa-step-forward fa-2x"></i>
          </div>
          <div class="repeat-track" onclick="repeatTrack()">
            <i class="fa fa-repeat fa-2x" title="Repeat"></i>
          </div>
        </div>

        <div id="wave">
          <span class="stroke"></span>
          <span class="stroke"></span>
          <span class="stroke"></span>
          <span class="stroke"></span>
          <span class="stroke"></span>
          <span class="stroke"></span>
          <span class="stroke"></span>
        </div>
      </div>
    </div>

    <div class="playlist">
      <button id="toggle-playlist-btn">Choose a Track ▼</button>
      <ul id="track-list"></ul>
    </div>
  </section>

</body>
</html>
